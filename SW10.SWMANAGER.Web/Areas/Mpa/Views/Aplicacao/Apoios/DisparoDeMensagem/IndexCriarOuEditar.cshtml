@using SW10.SWMANAGER.Web.Navigation
@using SW10.SWMANAGER.Web.Bundling
@using SW10.SWMANAGER.Web.Extensions
@using SW10.SWMANAGER.Web.Areas.Mpa.Models.Common.Modals

@{
    ViewBag.CurrentPageName = PageNames.App.Apoio.DisparoDeMensagem;

}

@model SW10.SWMANAGER.Web.Areas.Mpa.Models.Aplicacao.Apoios.DisparoDeMensagem.IndexCriarOuEditarDisparoDeMensagemViewModel


@section Styles
{
    @Html.IncludeStyleNoCache("~/libs/summernote/summernote.css")
    @Html.IncludeStyleNoCache("~/libs/jquery-chosen/css/chosen.css")
    @Html.IncludeStyleNoCache("~/libs/jquery-te/jquery-te-1.4.0.css")

    @Html.IncludeStyleNoCache("~/libs/pretty-checkbox/pretty-checkbox.min.css")

    @Html.IncludeStyleNoCache("~/metronic/assets/global/plugins/select2/css/select2.min.css")
    @Html.IncludeStyleNoCache("~/metronic/assets/global/plugins/select2/css/select2-bootstrap.min.css")
    @Html.IncludeStyleNoCache(StylePaths.FontAwesome)
}
@section Scripts
{
    @Html.IncludeScriptNoCache("~/libs/jquery-chosen/js/chosen.js")
    @Html.IncludeScriptNoCache("~/libs/jquery-te/jquery-te-1.4.0.min.js")
    @Html.IncludeScriptNoCache("~/Scripts/jquery.mask.min.js")
    @Html.IncludeScriptNoCache("~/Scripts/jquery.mask.js")
    @Html.IncludeScriptNoCache("~/Scripts/inputmask/inputmask.js")
    @Html.IncludeScriptNoCache("~/Scripts/inputmask/jquery.inputmask.js")
    @Html.IncludeScriptNoCache("~/Scripts/jquery.inputmask.bundle.js")
    @Html.IncludeScriptNoCache("~/Scripts/inputmask/inputmask.numeric.extensions.js")
    @Html.IncludeScriptNoCache("~/Scripts/inputmask/dependencyLibs/inputmask.dependencyLib.js")
    @Html.IncludeScriptNoCache("~/Scripts/inputmask/inputmask.extensions.js")
    @Html.IncludeScriptNoCache("~/libs/lodash/lodash.js")


    @Html.IncludeScriptNoCache("~/libs/summernote/summernote.js")
    @Html.IncludeScriptNoCache("~/scripts/myscripts.js")
    @Html.IncludeScriptNoCache("~/metronic/assets/global/plugins/select2/js/select2.full.min.js")
    @Html.IncludeScriptNoCache("~/libs/pagination/pagination.min.js")
    @Html.IncludeScriptNoCache("~/Areas/Mpa/Views/Aplicacao/Apoios/DisparoDeMensagem/indexCriarOuEditar.js")
}


<style type="text/css">
    .delete-button {
        height: 80px;
        width: 0px;
        margin-top: -10px;
        margin-right: -15px;
        border-top-right-radius: 3px;
    }

    .list-group-item-action.active {
        background-color: #e9e9e9 !important;
        border-color: #e9e9e9 !important;
        color: #000 !important;
    }

        .list-group-item-action.active .delete-button .icon {
            margin: 0px;
            padding: 0px;
            right: inherit;
        }

        .list-group-item-action.active .delete-button .message {
            display: block;
        }

    .list-group-item-action .delete-button .icon {
        margin: 0px;
        padding: 0px;
        right: 20px;
    }

    .list-group-item-action .delete-button .message {
        display: none;
    }

    .pretty.p-switch .state {
        top: 0;
    }

        .pretty.p-switch .state:before {
            border-color: #000;
            top: 0;
        }

    .pretty.p-switch input:checked ~ .state.p-primary-whatsApp:before {
        border-color: #00cd69;
    }

    .pretty.p-switch .state label:after {
        background-color: #000 !important;
        top: 0.60682px
    }

    .pretty.p-switch input:checked ~ .state.p-primary-whatsApp label:after {
        background-color: #00cd69 !important;
    }


    .pretty.p-switch .state label:after, .pretty.p-switch .state label:before {
        margin-top: 0px;
    }

    .jtable-main-container .jtable .jtable-column-header {
        height: 27px !important;
    }

    div.jtable-main-container > table.jtable > thead th.jtable-column-header div.jtable-column-header-container span.jtable-column-header-text {
        margin-top: 0px !important;
    }

    div.jtable-main-container > table.jtable > thead th.jtable-column-header div.jtable-column-header-container {
        height: 30px !important;
        line-height: 26px !important;
        padding-top: 3px;
    }

    .paginationjs .paginationjs-pages {
        float: left !important;
    }

    .paginationjs .paginationjs-nav.J-paginationjs-nav {
        float: right !important;
        line-height: 52px;
    }

    .daterangepicker .ranges {
        width: 100%;
        float: none;
    }

        .daterangepicker .ranges .range_inputs {
            float: right;
            padding-right: 10px;
        }

            .daterangepicker .ranges .range_inputs .applyBtn {
                float: right;
                margin-left: 10px;
            }

        .daterangepicker .ranges ul {
            width: 210px;
        }

    /*.daterangepicker .calendar.left{
        float:right;
    }*/

    #indexCriarOuEditarModal .modal-dialog {
        width: 100%;
        height: 95%;
        margin: 0;
        /*padding: 0;*/
    }

    #indexCriarOuEditarModal .modal-content {
        height: auto;
        margin: 1% 1%;
        min-height: 100%;
        border-radius: 0;
    }
</style>
<div class="row margin-bottom-5">
    <div class="col-xs-6">
        <div class="page-head">
            <div class="page-title">
                <h1>
                    <span>@L("Disparo De Mensagem")</span>
                </h1>
            </div>
        </div>
    </div>
</div>
<div class="portlet container-content light">

    <div class="portlet-body">
        <ul class="nav nav-tabs" style="margin-bottom: 0px;" id="tabs">
            <li class="@(!Model.Id.HasValue || Model.Id == 0? "active":"")" style="width:300px">
                <a href="#aba-filtro" data-toggle="tab">
                    Filtro
                </a>
            </li>
            <li class="@(Model.Id.HasValue && Model.Id != 0? "active":"")" style="width:300px">
                <a href="#aba-mensagem" data-toggle="tab">
                    Mensagem
                </a>
            </li>
        </ul>
        <div class="tab-content" style="padding-left: 15px;border: 1px solid #ddd;padding-bottom: 10px;border-top: none;">
            <div class="tab-pane @(!Model.Id.HasValue || Model.Id == 0? "active":"")" id="aba-filtro">
                <div class="form">
                    <form id="form-filtro" class="horizontal-form">
                        <div class="row">
                            <h5 class="col-md-6" style="font-weight: 400;color: #697882;">
                                <span style="border-bottom-color:#697882;border-bottom-style:dashed;border-bottom-width:1px;width:35%;display:flex;padding:5px 0 7px 0;">
                                    Paciente
                                </span>
                            </h5>
                            <div class="col-md-6">
                                <button class="btn btn-primary pull-right" style="margin-top: 5px;height: 40px;margin-right: 10px;" id="filterButton" type="button">@L("Filtar")</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label class="control-label">@L("Paciente")</label>
                                    <select name="pacienteId" id="paciente-id" class="form-control select2 selectPaciente"></select>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <label class="control-label">@L("Data Nascimento")</label>
                                    <input type="text" id="date-field-nascimento" class="form-control date-range-picker" autocomplete="off" />
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="row" style="padding-top: 23px;">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="pretty p-default p-round p-thick">
                                                <input type="checkbox" class="sexoMasculino" name="sexo" value="masculino" />
                                                <div class="state p-primary-o">
                                                    <label>Masculino</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="pretty p-default p-round p-thick">
                                                <input type="checkbox" class="sexoFeminino" name="sexo" value="feminino" />
                                                <div class="state p-danger-o">
                                                    <label>Feminino</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <div class="row" style="padding-top: 23px;">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="pretty p-switch">
                                                <input type="checkbox" class="pacienteObito" id="naoEnviarPacienteObito" name="naoEnviarPacienteObito" value="true" checked="checked" />
                                                <div class="state p-success">
                                                    <label for="naoEnviarPacienteObito" style="font-weight: 400;color: #697882;margin-top:0;padding-top:0;">Não enviar paciente com óbito</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">@L("Pais")</label>
                                    <select name="paisId" id="pais-id" class="form-control select2 selectPais"></select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">@L("Estado")</label>
                                    <select name="estadoId" id="estado-id" class="form-control select2 selectEstado"></select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">@L("Cidade")</label>
                                    <select name="cidadeId" id="cidade-id" class="form-control select2 selectCidade"></select>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">@L("Bairro")</label>
                                    <input id="bairro-id" name="bairroId" class="form-control" placeholder="@L("Bairro")" type="text">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12" style="padding-bottom:7px;">
                                <div style="border-bottom-color:#697882;border-bottom-style:dashed;border-bottom-width:1px;width:35%;display:flex;padding:0px 0 10px 0; font-size:14px">
                                    <div class="pretty p-switch">
                                        <input type="checkbox" id="habilitarFiltroAtendimento" name="habilitarFiltroAtendimento" />
                                        <div class="state p-success">
                                            <label for="habilitarFiltroAtendimento" style="font-weight: 400;color: #697882;margin-top:0;padding-top:0;">
                                                @L("Atendimento")
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="content-atendimento" style="display:none">
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="control-label">@L("Atendimento")</label>
                                        <select name="atendimentoId" id="atendimento-id" class="form-control select2 selectAtendimento"></select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">@L("Data Atendimento")</label>
                                                <input type="text" id="date-field-atendimento" class="form-control date-range-picker" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="pretty p-switch" style="padding-top: 23px;">
                                                <input type="checkbox" id="ultimoAtendimento" name="ultimoAtendimento" checked="checked" />
                                                <div class="state">
                                                    <label for="ultimoAtendimento" style="font-weight: 400;color: #000;margin-top:0;padding-top:0;">
                                                        @L("Último Atendimento")
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="pretty p-switch" style="padding-top: 23px;">
                                                <input type="checkbox" id="naoInternado" name="naoInternado" />
                                                <div class="state">
                                                    <label for="naoInternado" style="font-weight: 400;color: #000;margin-top:0;padding-top:0;">
                                                        Não Internado
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label class="control-label">@L("Data Alta")</label>
                                        <input type="text" id="date-field-atendimento-alta" class="form-control date-range-picker" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="control-label">@L("Unidade")</label>
                                        <select name="unidadeOrganizacional" id="unidadeOrganizacional-id" class="form-control select2 selectUnidadeOrganizacional"></select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="control-label">@L("Status Atendimento")</label>
                                        <select name="statusAtendimento" id="statusatendimento-id" class="form-control select2 selectStatusAtendimento"></select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="control-label">@L("Convenio")</label>
                                        <select name="convenioAtendimento" id="convenio-id" class="form-control select2 selectConvenioAtendimento"></select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label class="control-label">@L("Plano")</label>
                                        <select name="planoAtendimento" id="plano-id" class="form-control select2 selectPlanoAtendimento"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div id="disparoDeMensagemTable"></div>
            </div>
            <div class="tab-pane @(Model.Id.HasValue && Model.Id != 0 ? "active":"")" id="aba-mensagem">
                <div class="form" style="padding: 10px 0 !important;margin-right: 20px;">
                    <input type="hidden" id="disparoDeMensagemId" value="@Model.Id" />
                    <div class="row">
                        <div class="col-md-4" style="background-color: #c3c3c3;">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group " style="padding-top:20px">
                                        <div class="pretty p-switch">
                                            <input type="checkbox" id="ckEnviarEmail" name="ckEnviarEmail" checked="checked" />
                                            <div class="state p-primary">
                                                <label for="ckEnviarEmail"> <i class="fa fa-envelope-open-o fa-2x" style="padding-right:5px;color:#337ab7"></i>@L("Enviar Email")</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group " style="padding-top:20px">
                                        <div class="pretty p-switch">
                                            <input type="checkbox" id="ckWhatsApp" name="ckWhatsApp" checked="checked" />
                                            <div class="state p-primary-whatsApp">
                                                <label for="ckWhatsApp">
                                                    <i class="fa fa-whatsapp fa-2x" style=" padding-right: 5px; color: #009a4f"></i>@L("WhatsApp")
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group">
                                <label class="control-label">@L("Título")</label>
                                <input type="text" id="titulo" class="form-control" />
                            </div>
                        </div>
                        <div class="col-md-3  pull-right">
                            <div class="form-group">
                                <label class="control-label">@L("Data Programada")</label>
                                <input type="text" id="date-field-programada" class="form-control date-picker" autocomplete="off" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="list-group">
                            </div>
                            <nav>
                                <div class="pagination-content"></div>
                            </nav>
                        </div>
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="text-editor"></div>
                                </div>
                            </div>
                            <div class="row">
                                <button class="col-md-12 pull-right btn default close-button button-submit" type="button">@L("Enviar")</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

